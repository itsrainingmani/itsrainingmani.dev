---
import { getCollection } from "astro:content";
import BaseLayout from "@/layouts/BaseLayout";

const pageTitle = "Technical Dispatch";
const projects = (await getCollection("projects")).sort(
	(a, b) => b.data.createdYear - a.data.createdYear,
);
---

<BaseLayout>
	<div class="my-4 flex flex-col md:flex-row">
		<h1 class="basis-2/3 self-start text-left text-4xl">{pageTitle}</h1>
		<blockquote class="basis-1/3 border-l border-l-black px-3 py-1.5 italic text-gray-500">
			Systems, in one sense, are devices that take input and produce an output. A system can be
			thought to operate on the input to produce the output.
		</blockquote>
	</div>
	<section>
		<ul>
			{
				projects.map((project) => (
					<li>
						<a href={`/projects/${project.slug}/`}>
							<h4 class="title">{project.data.title}</h4>
							<p class="date">
								<span>{project.data.createdYear}</span>
							</p>
						</a>
					</li>
				))
			}
		</ul>
	</section>
</BaseLayout>
